"use strict";angular.module("efg.findusView",["efg.componentDirective","uiGmapgoogle-maps","geolocation","ng","ngRoute"]).config(["$routeProvider","uiGmapGoogleMapApiProvider",function(a,b){a.when("/findus",{controller:"FindusCtrl as findus",templateUrl:"efg.findusView.tpl.html"}),b.configure({v:"3.17",libraries:"weather,geometry,visualization"})}]).controller("FindusCtrl",["geolocation",function(a){var b=49.49172,c=8.435441,d=1e-4;this.map={center:{latitude:b,longitude:c},zoom:15,options:{backgroundColor:"rgb(233,229,220)",scrollwheel:!1},bounds:{northeast:{latitude:b*(1+d),longitude:c*(1+d)},southwest:{latitude:b*(1-d),longitude:c*(1-d)}}},this.we={coords:{latitude:b,longitude:c},id:0},this.you=void 0,a.getLocation().then(angular.bind(this,function(a){this.you={coords:a.coords,id:1},this.map.bounds={northeast:{latitude:Math.max(this.we.coords.latitude,this.you.coords.latitude)*(1+d),longitude:Math.max(this.we.coords.longitude,this.you.coords.longitude)*(1+d)},southwest:{latitude:Math.min(this.we.coords.latitude,this.you.coords.latitude)*(1-d),longitude:Math.min(this.we.coords.longitude,this.you.coords.longitude)*(1-d)}}}))}]),angular.module("efg.groupView",["efg.mockService","efg.componentDirective","ng","ngRoute"]).config(["$routeProvider",function(a){a.when("/group/:id",{controller:"GroupCtrl as group",templateUrl:"efg.groupView.tpl.html"})}]).controller("GroupCtrl",["mock","$routeParams",function(a,b){a.get("/api/v1/group/"+b.id+"?fields=name,poster").then(angular.bind(this,function(a){this.title=a.name,this.img=a.poster}))}]),angular.module("efg.indexView",["efg.mockService","efg.regexFilter","efg.trustFilter","efg.componentDirective","bootstrap.thumbnailDirective","bootstrap.thumbnailsDirective","ng","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{controller:"IndexCtrl as index",templateUrl:"efg.indexView.tpl.html"})}]).controller("IndexCtrl",["mock","$log","$filter",function(a,b,c){this.$filter=c,a.get("/api/v1/service").then(angular.bind(this,function(a){this.services=a})),a.get("/api/v1/group").then(angular.bind(this,function(a){this.groups=a})),a.get("/api/v1/member?fields=name,duties,img").then(angular.bind(this,function(a){function b(a){return{id:a.id,title:[a.name.givenname,a.name.familyname].join(" "),subtitle:a.duties.join(", "),img:a.img}}this.members=_.chain(a).filter(function(a){return-1===a.duties.indexOf("Ältester")}).map(b).value(),this.elders=_.chain(a).filter(function(a){return a.duties.indexOf("Ältester")>-1}).map(b).value()})),a.get("/api/v1/event?limit=3&fields=name,date,img").then(angular.bind(this,function(a){this.events=_.map(a,function(a){return{id:a.id,title:a.name,subtitle:a.date.length>1?a.date.reduce(function(a,b){var c=a[0],d=a[1];return c>b&&(c=b),b>d&&(d=b),[c,d]},[Number.MAX_VALUE,Number.MIN_VALUE]).map(function(a){return c("date")(new Date(a),"d. MMMM")}).join(" bis "):c("date")(new Date(a.date[0]),"d. MMMM HH:mm"),img:a.img}})})),a.get("/api/v1/next?fields=name").then(angular.bind(this,function(a){this.next=_.map(a,function(a){var c=a.name.split(" "),d={id:a.id,title:_.last(c),subtitle:_.initial(c).join(" ")};return b.log(d),d})})),a.get("/api/v1/info").then(angular.bind(this,function(a){this.infos=a})),a.get("/api/v1/sermon?fields=name,date,series:(name,order),preacher:(name),source:(src,type)&limit=1").then(angular.bind(this,function(a){this.sermon=a[0]})),a.get("/api/v1/contact?fields=name,action,img").then(angular.bind(this,function(a){this.contacts=_.map(a,function(a){return{id:a.action,title:a.name,img:a.img}})}))}]),angular.module("efg",["efg.indexView","efg.serviceView","efg.memberView","efg.findusView","efg.groupView","ng","ngRoute"]).config(["$routeProvider","$locationProvider",function(a,b){a.otherwise({redirectTo:"/"}),b.html5Mode(!1),b.hashPrefix("!")}]),angular.module("efg.memberView",["efg.mockService","ng","ngRoute"]).config(["$routeProvider",function(a){a.when("/member/:id",{controller:"MemberCtrl as member",templateUrl:"efg.memberView.tpl.html"})}]).controller("MemberCtrl",["mock","$routeParams",function(a,b){a.get("/api/v1/member/"+b.id+"?fields=name,duties,description,poster").then(angular.bind(this,function(a){this.title=[a.name.givenname,a.name.familyname].join(" "),this.subtitle=a.duties.join(", "),this.description=a.description,this.img=a.poster}))}]),angular.module("efg.serviceView",["efg.mockService","ng","ngRoute"]).config(["$routeProvider",function(a){a.when("/service/:id",{controller:"ServiceCtrl as service",templateUrl:"efg.serviceView.tpl.html"})}]).controller("ServiceCtrl",["mock","$routeParams",function(a,b){a.get("/api/v1/service/"+b.id).then(angular.bind(this,function(a){this.title=a.title,this.subtitle=a.subtitle,this.description=a.description}))}]),angular.module("bootstrap.thumbnailDirective",["ng"]).directive("thumbnail",function(){return{link:function(a){a.contains=function(a,b){return a.indexOf(b)>-1}},replace:!0,restrict:"E",scope:{href:"=",header:"=",subheader:"=",img:"=",imgclass:"="},templateUrl:"bootstrap.thumbnailDirective.tpl.html"}}),angular.module("bootstrap.thumbnailsDirective",["bootstrap.thumbnailDirective","ng"]).directive("thumbnails",["$log",function(){return{link:function(a){function b(a,b){for(var c=[],d=0;b>d;d++)c.push(a);return c}function c(a,d,e){for(var f=1;d>=f;f++)if(a===f)return b("col-"+e+"-"+12/f,a);return c(d,d,e).concat(c(a-d,d,e))}function d(a){return _.zip(c(a,3,"sm"),c(a,4,"md")).map(function(a){return a.join(" ")})}var e,f=d(a.items.length);for(e=0;e<a.items.length;e++)a.items[e]=angular.extend(a.items[e],{cls:f[e]})},restrict:"E",scope:{items:"=",itemstyle:"@",base:"@",imgclass:"@"},templateUrl:"bootstrap.thumbnailsDirective.tpl.html"}}]),angular.module("efg.componentDirective",["ng"]).directive("component",function(){return{replace:!0,restrict:"E",scope:{header:"@",subheader:"@",classes:"@"},templateUrl:"efg.componentDirective.tpl.html",transclude:!0}}),angular.module("efg.mockService",["ng"]).factory("mock",["$q","$log",function(a,b){var c={"/api/v1/group":[{id:"family",title:"Kinderbetreuung",subtitle:"0 bis 6 Jahre",img:"//lorempixel.com/200/200/cats/1"},{id:"kids",title:"Kindergottesdienst",subtitle:"7 bis 12 Jahre",img:"//lorempixel.com/200/200/cats/2"},{id:"teens",title:"Gemeindeunterricht",subtitle:"13 bis 16 Jahre",img:"//lorempixel.com/200/200/cats/3"},{id:"youth-cellgroups",title:"Teenie-Hauskreise",subtitle:"17 bis 21 Jahre",img:"//lorempixel.com/200/200/cats/4"},{id:"unlimited",title:"unlimited",subtitle:"22 bis 35 Jahre",img:"//lorempixel.com/200/200/cats/5"},{id:"women",title:"Café Life",subtitle:"Frauen",img:"//lorempixel.com/200/200/cats/6"},{id:"seniors",title:"Seniorenkreis",subtitle:"über 60 Jahre",img:"//lorempixel.com/200/200/cats/7"}],"/api/v1/group/family?fields=name,poster":{id:"family",name:"",poster:"//lorempixel.com/1920/1080/cats/1"},"/api/v1/group/kids?fields=name,poster":{id:"kids",name:"",poster:"//lorempixel.com/1920/1080/cats/2"},"/api/v1/group/teens?fields=name,poster":{id:"teens",name:"",poster:"//lorempixel.com/1920/1080/cats/3"},"/api/v1/group/youth-cellgroups?fields=name,poster":{id:"youth-cellgroups",name:"",poster:"//lorempixel.com/1920/1080/cats/4"},"/api/v1/group/unlimited?fields=name,poster":{id:"unlimited",name:"",poster:"//lorempixel.com/1920/1080/cats/5"},"/api/v1/group/women?fields=name,poster":{id:"women",name:"",poster:"//lorempixel.com/1920/1080/cats/6"},"/api/v1/group/seniors?fields=name,poster":{id:"seniors",name:"",poster:"//lorempixel.com/1920/1080/cats/7"},"/api/v1/member?fields=name,duties,img":[{id:"wilfried",name:{givenname:"Wilfried",familyname:"Schmitt"},duties:["Gemeindeleiter","Ältester"],img:"//lorempixel.com/500/500/people/7"},{id:"thomas",name:{givenname:"Thomas",familyname:"Weber"},duties:["Ältester"],img:"//lorempixel.com/500/500/people/8"},{id:"denise",name:{givenname:"Denise",familyname:"Schmutz"},duties:["Raumbuchung","Kranke"],img:"//lorempixel.com/500/500/people/3"},{id:"andreas",name:{givenname:"Andreas",familyname:"Petry"},duties:["Lehre","Gebet"],img:"//lorempixel.com/500/500/people/9"},{id:"daniel",name:{givenname:"Daniel",familyname:"Mertins"},duties:["Gottesdienst"],img:"//lorempixel.com/500/500/people/10"},{id:"jonas",name:{givenname:"Jonas",familyname:"Weber"},duties:["Jugendarbeit","Hauskreise"],img:"//lorempixel.com/500/500/people/6"}],"/api/v1/member/wilfried?fields=name,duties,description,poster":{id:"wilfried",name:{givenname:"Wilfried",familyname:"Schmitt"},duties:["Gemeindeleiter","Ältester"],description:"Seit der Gemeindegründung dabei. Der Hirte.",poster:"//lorempixel.com/1920/1080/people/7"},"/api/v1/member/thomas?fields=name,duties,description,poster":{id:"thomas",name:{givenname:"Thomas",familyname:"Weber"},duties:["Ältester"],description:"Seit 2 Jahren Ältester. Der Macher.",poster:"//lorempixel.com/1920/1080/people/8"},"/api/v1/member/denise?fields=name,duties,description,poster":{id:"denise",name:{givenname:"Denise",familyname:"Schmutz"},duties:["Raumbuchung","Kranke"],description:"lorem ipsum dolor sit amet",poster:"//lorempixel.com/1920/1080/people/3"},"/api/v1/member/andreas?fields=name,duties,description,poster":{id:"andreas",name:{givenname:"Andreas",familyname:"Petry"},duties:["Lehre","Gebet"],description:"lorem ipsum dolor sit amet",poster:"//lorempixel.com/1920/1080/people/9"},"/api/v1/member/daniel?fields=name,duties,description,poster":{id:"daniel",name:{givenname:"Daniel",familyname:"Mertins"},duties:["Gottesdienst"],description:"lorem ipsum dolor sit amet",poster:"//lorempixel.com/1920/1080/people/10"},"/api/v1/member/jonas?fields=name,duties,description,poster":{id:"jonas",name:{givenname:"Jonas",familyname:"Weber"},duties:["Jugendarbeit","Hauskreise"],description:"lorem ipsum dolor sit amet",poster:"//lorempixel.com/1920/1080/people/6"},"/api/v1/event?limit=3&fields=name,date,img":[{id:"weihnachtsgottesdienst",name:"Weihnachtsgottesdienst",date:[new Date("2014/12/24 16:00").getTime()],img:"//lorempixel.com/500/400/abstract/1"},{id:"allianzgebetswoche",name:"Allianz Gebetswoche",date:[new Date("2015/01/11 20:00").getTime(),new Date("2015/01/12 20:00").getTime(),new Date("2015/01/13 20:00").getTime(),new Date("2015/01/14 20:00").getTime(),new Date("2015/01/15 20:00").getTime(),new Date("2015/01/16 20:00").getTime(),new Date("2015/01/17 20:00").getTime(),new Date("2015/01/18 20:00").getTime()],img:"//lorempixel.com/500/400/abstract/2"},{id:"endzeitbibelabende",name:"Endzeit-Bibelabende",date:[new Date("2015/01/27 20:00").getTime(),new Date("2015/02/03 20:00").getTime(),new Date("2015/02/10 20:00").getTime()],img:"//lorempixel.com/500/400/abstract/3"}],"/api/v1/next?fields=name":[{id:"service",name:"Komm zu einem Gottesdienst"},{id:"cellgroup",name:"Besuch einen Hauskreis"},{id:"help",name:"Erhalte Hilfe"},{id:"talents",name:"Entdecke Deine Gaben"},{id:"baptism",name:"Werde Getauft"},{id:"participate",name:"Arbeite mit"}],"/api/v1/info":[{id:"creed",title:"Glaubensbekenntnis",subtitle:"Was wir glauben",img:"glyphicon glyphicon-fire"},{id:"faq",title:"Häufige Fragen",subtitle:void 0,img:"glyphicon glyphicon-comment"}],"/api/v1/contact?fields=name,action,img":[{id:"phone",name:"+49 1577 8394600",action:"tel:+4915778394600",img:"glyphicon glyphicon-earphone"},{id:"location",name:"Böhlstraße 5, Ludwigshafen",action:"#!/findus",img:"glyphicon glyphicon-map-marker"},{id:"email",name:"info@efg-ludwigshafen.de",action:"mailto:info@efg-ludwigshafen.de",img:"glyphicon glyphicon-envelope"}],"/api/v1/service":[{id:"sunday",title:"Jeden Sonntag",subtitle:"10:00 Uhr"},{id:"worship",title:"Am 2. Sonntag in geraden Monaten",subtitle:"19:00 Uhr"}],"/api/v1/service/sunday":{id:"sunday",title:"Sonntagmorgen-Gottesdienst",subtitle:"Jung und Alt, Groß und Klein. Gemeinsam vor Gott"},"/api/v1/service/worship":{id:"worship",title:"Lobpreis-Gottesdienst",subtitle:"Musik. Gebet. Anbetung."},"/api/v1/sermon?fields=name,date,series:(name,order),preacher:(name),source:(src,type)&limit=1":[{id:"2014-12-21",date:new Date("2014/12/21 10:00").getTime(),name:"Zuversicht und Festigkeit -- Strophe 6",series:{id:"wiesollichdichempfangen",name:"Wie soll ich Dich empfangen",order:3},preacher:{id:"thomasweber",name:"Thomas Weber"},source:[{src:"http://www.efg-ludwigshafen.de/predigt/?show&file_name=201-41-21_T_Weber_Festigkeit_und_Zuversicht.mp3",type:"audio/ogg"},{src:"http://www.efg-ludwigshafen.de/predigt/?show&file_name=201-41-21_T_Weber_Festigkeit_und_Zuversicht.mp3",type:"audio/mpeg"}]}]};return b.debug("consider implementing a backend, then replace mock with $http -- that should be it"),{get:function(b){var d=a.defer();return c.hasOwnProperty(b)?d.resolve(c[b]):d.reject(b+" not found in "+Object.keys(c)),d.promise}}}]),angular.module("efg.regexFilter",["ng"]).filter("regex",["$log",function(){return function(a,b,c){var d=new RegExp(b,"g");return a.filter(function(a){var b=c?a[c]:a;return b.match(d)?a:void 0})}}]),angular.module("efg.trustFilter",["ng"]).filter("trustHtml",["$sce",function(a){return a.trustAsHtml}]).filter("trustResource",["$sce",function(a){return a.trustAsResourceUrl}]),angular.module("efg").run(["$templateCache",function(a){a.put("efg.findusView.tpl.html",'<div class="component component-almost-viewport"><ui-gmap-google-map center="findus.map.center" zoom="findus.map.zoom" options="findus.map.options" bounds="findus.map.bounds"><ui-gmap-marker idkey="findus.we.id" coords="findus.we.coords"><ui-gmap-window show="true"><div><p>Hier sind wir!</p><address>Böhlstraße 5<br>67063 Ludwigshafen</address></div></ui-gmap-window></ui-gmap-marker><ui-gmap-marker ng-if="findus.you !== undefined" idkey="findus.you.id" coords="findus.you.coords"><ui-gmap-window show="true"><div><p>Hier bist Du!</p></div></ui-gmap-window></ui-gmap-marker></ui-gmap-google-map></div><component classes="component-lg" header="Böhlstraße 5, Ludwigshafen" subheader="Plane Deinen Weg zu uns."><div class="col-sm-6"><h3>Mit öffentlichen Verkehrsmitteln</h3><p class="u-space-horizontal"><a href="http://fahrplanauskunft.vrn.de/vrn/XSLT_TRIP_REQUEST2?language=de&sessionID=0&name_destination=Hemshofstra%C3%9Fe,%20Ludwigshafen&type_destination=stop" class="btn btn-lg btn-outline" target="_blank">Zum VRN</a></p><p>Die Haltestelle <em>Hemshofstraße/BASF Tor 7</em> (Linie 7) ist zwei Gehminuten entfernt.</p></div><div class="col-sm-6"><h3>Mit dem Auto</h3><p class="u-space-horizontal"><a href="https://www.google.de/maps/place/Böhlstraße+5,+67063+Ludwigshafen+am+Rhein/" class="btn btn-lg btn-outline" target="_blank">Zu Google Maps</a></p><p>Du kannst direkt gegenüber parken. Oder auf dem BASF-Mitarbeiterplatz (<em>Anilinstraße</em>) &ndash; zu Fuß zwei Minuten.</p></div></component>'),a.put("efg.groupView.tpl.html",'<component classes="component-almost-viewport" ng-style="{\'background-image\': \'url(\' + group.img + \')\'}"></component><component classes="component-lg" header="{{group.title}}"></component>'),a.put("efg.indexView.tpl.html",'<component classes="component-flex component-almost-viewport bg-img bg-dark" style="background-image: linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)), url(//lorempixel.com/g/1920/1080/abstract)" header="EfG Ludwigshafen" subheader="Baptisten im Hemshof"></component><component classes="component-lg" header="Unsere Gottesdienste" subheader="Wir freuen uns sehr, Dich dort zu begrüßen."><div class="col-sm-6" style="padding-left: 2rem; padding-right: 2rem" ng-repeat="service in index.services"><a ng-href="#!/service/{{service.id}}" class="btn btn-lg btn-block btn-outline"><span ng-bind="service.title"></span><br><strong ng-bind="service.subtitle"></strong></a></div></component><component classes="component-lg bg-img bg-dark" style="background-image: linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)), url(//lorempixel.com/g/1920/1080/transport)" header="Unser Standort" subheader="Wir sind mitten im Hemshof, dem Herz von Ludwigshafen."><div class="col-md-12"><p class="lead">Böhlstraße 5, 67063 Ludwigshafen</p><p class="u-space-top"><a href="#!/findus" class="btn btn-lg btn-light btn-outline">Wegbeschreibung anzeigen</a></p></div></component><component classes="component-lg" header="Nächste Events" subheader="Bei uns in der Gemeinde."><thumbnails items="index.events" base="#!/event/" imgclass="img-rounded"></component><component classes="component-lg bg-img bg-dark" style="background-image: linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.7)), url(//lorempixel.com/g/1920/1080/people)" header="Unsere Gruppen" subheader="Du bist herzlich eingeladen."><thumbnails items="index.groups" base="#!/group/" imgclass="img-circle"></component><component classes="component-lg" header="Informationen" subheader="Wir wollen Deine Fragen beantworten."><thumbnails items="index.infos" base="#!/info/"></component><component classes="component-lg bg-primary" header="Nächste Schritte"><div class="col-sm-4" ng-repeat="action in index.next" style="margin-bottom: 2rem; padding-left: 2rem; padding-right: 2rem"><a class="btn btn-light btn-lg btn-block btn-outline" ng-href="#!/next/{{action.id}}">{{action.subtitle}}<br><b>{{action.title}}</b></a></div></component><component classes="component-lg" header="Unser Team"><div class="col-md-12"><div class="row"><thumbnails itemstyle="{\'padding-left\': \'6rem\', \'padding-right\': \'6rem\'}" items="index.elders" base="#!/member/" imgclass="img-circle img-thumbnail"></div><div class="row" ng-hide="index.showFullTeam" ng-init="index.showFullTeam = false"><div class="col-md-12"><button type="button" class="btn btn-lg btn-outline" ng-click="index.showFullTeam = true">mehr Verantwortliche</button></div></div><div class="row" ng-if="index.showFullTeam"><thumbnails items="index.members" base="#!/member/" imgclass="img-circle img-thumbnail"></div></div></component><component classes="component-lg bg-success" header="Predigten"><div class="col-md-12"><h3>{{index.sermon.name}} <small>{{index.sermon.date | date:\'d. MMMM\'}}, von {{index.sermon.preacher.name}}</small></h3><audio controls class="show" style="width: 100%"><source ng-repeat="source in index.sermon.source" ng-src="{{source.src | trustResource}}" type="{{source.type}}"></audio><p class="u-space-top"><a class="btn btn-lg btn-outline" ng-href="#!/sermon/">mehr Predigten</a></p></div></component><component classes="component-lg bg-dark" header="Kontakt" subheader="So erreichst Du uns."><thumbnails items="index.contacts" href=""></component>'),a.put("efg.memberView.tpl.html",'<component classes="component-almost-viewport bg-img" ng-style="{\'background-image\': \'url(\' + member.img + \')\'}"></component><component classes="component-lg" header="{{member.title}}" subheader="{{member.subtitle}}">{{member.description}}</component>'),a.put("efg.serviceView.tpl.html",'<component classes="component-flex component-almost-viewport bg-dark" header="{{service.title}}" subheader="{{service.subtitle}}"></component><component classes="component-lg">{{service.description}}</component>'),a.put("bootstrap.thumbnailDirective.tpl.html",'<a ng-href="{{href}}" class="thumbnail" ng-class="classes"><p ng-if="contains(img, \' \')" style="font-size: 3rem"><i ng-class="img"></i></p><img ng-if="!contains(img, \' \')" ng-src="{{img}}" ng-class="imgclass"><div class="caption"><h3 ng-bind="header"></h3><p ng-bind="subheader"></p></div></a>'),a.put("bootstrap.thumbnailsDirective.tpl.html",'<thumbnail ng-repeat="item in items" ng-href="{{base}}{{item.id}}" class="{{item.cls}}" ng-style="{{itemstyle}}" header="item.title" subheader="item.subtitle" img="item.img" imgclass="imgclass"></thumbnail>'),a.put("efg.componentDirective.tpl.html",'<article class="component" ng-class="classes"><div class="container text-center"><header class="row"><div class="col-md-12"><h2 ng-bind="header"></h2><p ng-bind="subheader" class="text-eased"></p></div></header><div class="row" ng-transclude></div></div></article>')}]);
//# sourceMappingURL=main.min.js.map